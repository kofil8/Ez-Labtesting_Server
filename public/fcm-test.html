<!DOCTYPE html>
<html>
  <head>
    <title>FCM Token Test</title>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-messaging-compat.js"></script>
  </head>
  <body>
    <h2>Get FCM Token</h2>
    <button onclick="getToken()">Get Token</button>
    <pre id="output"></pre>
    <script>
      // TODO: Replace with your Firebase config
      const firebaseConfig = {
        apiKey: 'YOUR_API_KEY',
        authDomain: 'YOUR_AUTH_DOMAIN',
        projectId: 'YOUR_PROJECT_ID',
        messagingSenderId: 'YOUR_MESSAGING_SENDER_ID',
        appId: 'YOUR_APP_ID',
      };

      firebase.initializeApp(firebaseConfig);
      const messaging = firebase.messaging();

      async function getToken() {
        try {
          const currentToken = await messaging.getToken({
            vapidKey: 'YOUR_PUBLIC_VAPID_KEY', // Get this from Firebase Console > Cloud Messaging > Web Push certificates
          });
          document.getElementById('output').textContent = currentToken
            ? 'FCM Token:\n' + currentToken
            : 'No registration token available. Request permission to generate one.';
        } catch (err) {
          document.getElementById('output').textContent = 'An error occurred: ' + err;
        }
      }
    </script>
  </body>
</html>
